<!DOCTYPE html>
<html lang="en">

<head>
    <title>CryptoRazer</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/style.css" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;700;900&display=swap" rel="stylesheet">
    <link href="http://fonts.cdnfonts.com/css/binjay" rel="stylesheet">
</head>

<body>
    <div class="container">
        <h1 style="font-family:binjay;font-size:40px;"><a href="../index.html">CryptoRazer</a></h1>
        <form name="form" onsubmit="restApiReact" id="form" action="/" method="GET">
            <span class="error" id="userError" style="color: rgb(255, 80, 80); text-align: center;">&nbsp;</span>
            <input type="text" id="userName" name="userName" placeholder="Username">
            <span class="error" id="emailError" style="color: rgb(255, 80, 80); text-align: center;">&nbsp;</span>
            <input type="email" id="email" name="email" placeholder="Email address">
            <span class="error" id="passError" style="color: rgb(255, 80, 80); text-align: center;">&nbsp;</span>
            <input type="password" id="pass" name="password" placeholder="Password" autocomplete="none">
            <span class="error" id="cpassError" style="color: rgb(255, 80, 80); text-align: center;">&nbsp;</span>
            <input type="password" id="cpass" name="cpassword" placeholder="Confirm Password" autocomplete="none">
            <input type="submit" name="submit" value="Register">
            <a href="./index.html">Login Here</a>
        </form>
    </div>
</body>

<script>
    const userName = document.getElementById('userName');
    const userError = document.getElementById('userError');
    const email = document.getElementById('email');
    const emailError = document.getElementById('emailError');
    const password = document.getElementById('pass');
    const passError = document.getElementById('passError');
    const cpassword = document.getElementById('cpass');
    const cpassError = document.getElementById('cpassError');
    const form = document.getElementById('form');

    form.addEventListener('submit', (e) => {

        let msg = []
        let emailerr = []
        let passerr = []
        let cpasserr = []

        if (userName.value === '' || userName.value == null) {
            msg.push('*Username cannot be blank.');
            userName.style.border = "2px solid red";
        } else {
            msg.push('');
            userName.style.border = "2px solid lime";
        }
        if (email.value === '' || email.value == null) {
            emailerr.push('*Email cannot be blank.');
            email.style.border = "2px solid red";
        } else {
            emailerr.push('');
            email.style.border = "2px solid lime";
        }

        if (password.value === '' || password.value == null) {
            passerr.push('*Password cannot be blank.')
            pass.style.border = "2px solid red";
        } else {
            passerr.push('');
            pass.style.border = "2px solid lime";
        }
        if (cpassword.value === password.value && cpassword.value === '') {
            cpasserr.push('*Password deos not match.')
            cpass.style.border = "2px solid red";
        } else {
            cpasserr.push('');
            cpass.style.border = "2px solid lime";
        }

        if (msg.length > 0) {
            e.preventDefault();
            userError.innerText = msg.join(',')
        }
        if (emailerr.length > 0) {
            e.preventDefault();
            emailError.innerText = emailerr.join(',')
        }
        if (passerr.length > 0) {
            e.preventDefault();
            passError.innerText = passerr.join(',')
        }
        if (cpasserr.length > 0) {
            e.preventDefault();
            cpassError.innerText = cpasserr.join(',')
        }
    });

    function restApiReact() {
        if (msg.value === '&nbsp;' || emailerr.value === '&nbsp;' || passerr.value === '&nbsp;' || cpasserr.value === '&nbsp;') {
            window.location.href = "https://www.facebook.com/";
        } else {
            e.preventDefault();
        }
    }
</script>

</html>